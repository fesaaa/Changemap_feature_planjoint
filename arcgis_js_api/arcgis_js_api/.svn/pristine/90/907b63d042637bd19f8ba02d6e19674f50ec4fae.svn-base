<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="ie lt-ie9 lt-ie8 lt-ie7 ie6"> <![endif]-->
<!--[if IE 7]>         <html class="ie lt-ie9 lt-ie8 ie7"> <![endif]-->
<!--[if IE 8]>         <html class="ie lt-ie9 ie8"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta name="content-language" content="en">
  <meta name="product" content="js-api-arcgis">
  <meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE">
  <meta name="sub_category" content="JavaScript API">
  <meta name="search-collection" content="help">
  <meta name="search-category" content="help-api">
  <meta name="version" content="arcgis-3.8"> <!-- API version -->
  <meta name="content_type" content="Tutorial"> <!-- options: Help Topic, API Reference or Tutorial -->
  <meta name="last-modified" content="2013-12-19"> <!-- put in date docs were generated -->

  <link rel="stylesheet" href="../styles/screen.css">
  <link rel="stylesheet" href="../styles/jsdoc.css">
  <link rel="stylesheet" href="../styles/homepage.css">
  <link rel="stylesheet" href="../styles/grid.css">
  <link rel="stylesheet" href="../styles/tree.css">
  <link rel="stylesheet" href="../prettify/prettify.css">
  <style>
    html {
      overflow-y: auto;
    }
    .navigation-bar, .section-bar {
      margin-bottom: 0;
    }
    .navigation-bar header h1, .section-bar header h1 {
      margin-top: .35294em;
    }
    .navigation-bar, .section-bar {
      background: url('../graphics/banner.jpg') no-repeat center center #762783;
      min-height: 48px;
      color: white;
    }
    #esri-logo {
      background: url('../graphics/logo-esri.png') no-repeat center center ;
      width: 100px;
    }
    @font-face {
    font-family:'icomoon';src:url('../fonts/icons.eot');src:url('../fonts/icons.eot?#iefix') format("embedded-opentype"),url('../fonts/icons.woff') format("woff"),url('../fonts/icons.ttf') format("truetype"),url('../fonts/icons.svg#icomoon') format("svg");font-weight:400;font-style:normal
    }[data-icon]:before {
      font-family: 'icomoon';
      content: attr(data-icon);
      speak: none;
      font-weight: 400;
      line-height: 1;
      -webkit-font-smoothing: antialiased
    }[class*="icon-"]:before {
      font-family: 'icomoon';
      speak: none;
      font-style: normal;
      font-weight: 400;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      text-transform: none
    }
    pre {
      font-size: 1.1em;
      line-height: normal;
      margin: 0;
    }
    #header nav li a {
      font-size: .875em;
    }
    #esri-logo {
      margin-left: 0;
    }
  </style>
  <!--[if lt IE 9]>
    <script src="../scripts/libs/html5shiv.js"></script>
    <script src="../scripts/libs/selectivizr-min.js"></script>
    <style>
      #wrapper {
        min-width: 960px;
      }
    </style>
  <![endif]-->
  <title>
    Tutorials | ArcGIS API for JavaScript 
  </title>
</head>
  
<body>
<div id="nav">
<header id="header">
  <div class="container relative-container">
    <div class="header-inner ">
      <div class="logo-wrap"><a href="../" id="site-logo">Arc<span>GIS</span> API for JavaScript</a><!--span class="down-arrow" id="down-arrow"></span--></div>
      <nav id="site-nav" class="">
        <a href="/en/" class="selected">
          <h4 class="developers">Arc<span>GIS</span> API for JavaScript</h4>
          <p>Build location-aware applications with ArcGIS</p>
        </a>

        <a href="https://www.arcgis.com/about/">
          <h4 class="organizations">Arc<span>GIS</span> for Organizations</h4>
          <p>Learn more about ArcGIS</p>
        </a>
      </nav>

      <a id="esri-logo" href="http://esri.com">Esri</a>
      <div id="logged-out-navigation" class="dropdown-navigation hide">
  <a id="login-link" class="btn small light" href="/en/log-in/">Log In</a>
</div>
<div id="logged-in-navigation" class="dropdown-navigation dropdown-wrapper hide">
  <a href="/en/usage-summary" class="dropdown btn small light">
    <!-- <img src="http://d3w50ib5d2uy0g.cloudfront.net/cdn/2464//js/esri/arcgisonline/css/images/no-user-thumb.jpg" width="16" height="16" alt=""> --><span id="username"></span>
  </a>
  <div class="dropdown-content">
    <ul>
      <li><a href="/en/usage-summary/">Usage Summary</a></li>
      <li><a href="/en/applications/">Applications</a></li>
      <li></li>
      <li><a href="/en/tools/">GIS Tools</a></li>
    </ul>
    <hr>
    <ul>
      <li><a href="/en/account/profile/">Account Settings</a></li>
      <li><a href="/en/feedback/">Feedback</a></li>
    </ul>
    <hr>
    <ul>
      <li><a id="log-out-link" href="#">Log Out</a></li>
    </ul>
  </div>
</div>

      <div id="mobile-navigation" class="dropdown-navigation dropdown-wrapper">
        <a href="#" class="dropdown btn small light icon icon-list-2">Select <span>a Section</span></a>
        <div class="dropdown-content">
          <ul>
            <li><a href="../jshelp/">Concepts</a></li>
            <li><a href="../jsapi/">API Reference</a></li>
            <li><a href="../jssamples/">Samples</a></li>
            <li><a href="http://forums.arcgis.com/forums/15">Forum</a></li>
            <li><a href="../../">All Developer Resources</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="navigation-bar">
  <div class="container">
    <nav>
      <div id="section-label"><a href=".">Tutorials</a></div>
      <ul>
        <!--li class="current"><a href="/en/javascript/">Home</a></li-->
        <li class="current"><a href=".">Tutorials</a></li>
        <li><a href="../jshelp/">Concepts</a></li>
        <li><a href="../jsapi/">API Reference</a></li>
        <li><a href="../jssamples/">Samples</a></li>
        <li><a href="http://forums.arcgis.com/forums/15">Forum</a></li>
        <li><a href="../../">All Developer Resources</a></li>
      </ul>
    </nav>
  </div>
</div> 
</div><!-- end nav bar --> <!-- sub 2: header and navigation -->

<div class="container_12">
  <div class="grid_3 contentWrapper">
    <div id="toggleToc">
      <img src="../graphics/tochide.gif"> Hide Table of Contents
    </div>
    <div id="apiToc"><div class="treeDiv" id="tree" style="top: 35px; left: 0px;">
  <div id="treeRoot">
    <div class="treeNode">
      <a class="treeUnselected" href="intro_firstmap_amd.html" onclick="clickAnchor(this)">Build your first application</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="intro_agstemplate_amd.html" onclick="clickAnchor(this)">Use an ArcGIS.com webmap</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="mobile_dev.html" onclick="clickAnchor(this)">Mobile-specific application</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="intro_directions.html" onclick="clickAnchor(this)">Directions widget</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="tutorial_geocoder.html" onclick="clickAnchor(this)">Geocoder widget</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="tutorial_label_layer.html" onclick="clickAnchor(this)">Labeling features client-side</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="intro_javascript_classes.html" onclick="clickAnchor(this)">Write a class</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="intro_custom_dijit.html" onclick="clickAnchor(this)">Create a re-usable widget</a>
    </div>
  </div>
</div>
<!-- pretty printed via http://prettydiff.com/?m=beautify&html --></div> <!-- Conceptual help TOC -->
  </div>
  <div class="grid_9 contentWrapper">
    <div id="topicPane"><div id="pageBanner">Directions widget</div>
<div id="nstext">
<!--***START TEXT - DO NOT WRITE ABOVE THIS LINE***-->

<p class="tutorial-outline">This tutorial covers the following:</p>
<ol class="tutorial-outline">
  <li><a href="#step1">Introduction to the Directions widget</a></li>
  <li><a href="#step2">Load the Directions widget</a></li>
  <li><a href="#step3">Add a DOM element for the widget</a></li>
  <li><a href="#step4">Create an instance of the Directions widget</a></li>
  <li><a href="#step5">Modify the page layout</a></li>
  <li><a href="#step6">Create layout widgets with markup</a></li>
  <li><a href="#step7">Bonus:  Use your own network analyst service</a></li>
</ol>

<ol class="tutorial-content">
  <li id="step1"><h3>Introduction to the Directions widget</h3>
    
    <p>The <a href="../jsapi/directions-amd.html" target="_blank">Directions widget</a> calculates directions between two or more locations and makes it trivial to add turn-by-turn directions to a page as well as a route to a map. This tutorial describes how to add the Directions widget to a map, customize the page layout to show the Directions widget in a side bar next to the map and optionally specify your own network analysis service instead of the default routing service.
    </p>
      
    <p>Before starting, you'll need a page with a map in it. If you do not have one or know how to create one, please refer to the <a href="../sandbox/sandbox.html">Create a Map sample</a>. An ArcGIS.com subscription with World Network Analysis is also required. Alternatively, you can use your own ArcGIS Server Network Analysis service. In addition, be sure you are using the latest ArcGIS API for JavaScript. The Directions widget was first available with version 3.4 and is in all subsequent versions.</p>

  </li>

  <li id="step2"><h3>Load the Directions widget</h3>

    <p>Use <code>require()</code> to load the module that creates the Directions widget.</p>

    <div class="detailSample">
    <pre class="prettyprint" style="border:none;">
require([
  "esri/map",
  "esri/dijit/Directions",
  "esri/layout",
  "dojo/domReady!"
], function (Map, Directions, Layout) {
    // code goes here
});
</pre>
    </div>
    <p></p>

  </li>
      
  <li id="step3"><h3>Add a DOM element for the widget</h3>

    <p>Add a new <code>&lt;div&gt;</code> element with an ID of <code>dir</code> before <code>&lt;div id="map"&gt;&lt;/div&gt;</code> to your HTML. This element will contain the user interface for the widget.</p>

    <div class="detailSample">
    <pre class="prettyprint" style="border:none;">
&lt;div id="dir"&gt;&lt;/div&gt;
</pre>
    </div>
    <p></p>

  </li>

  <li id="step4"><h3>Create an instance of the Directions widget</h3>

    <p>Add a new Directions widget to the page. In the constructor, several options are available for the widget the first parameter <code>options</code>. After creating the widget, be sure to call startup().</p>

    <div class="detailSample">
    <pre class="prettyprint" style="border:none;">
var directions = new esri.dijit.Directions({
  map: map
}, "dir");
directions.startup();
</pre>
    </div>

    <div class="tutNote">
      <p>In the code above, <code>map</code> specifies which map this widget is associated with. The second parameter, <code>srcNodeRef</code>, specifies the ID of the DOM element where this widget will be created. Other available options can be found at the <a href="../jsapi/directions-amd.html">class reference page</a>.</p>
      
      <p>The Directions widget uses the <a href="http://links.esri.com/arcgis-online-network-analysis-rest-api" target="_blank">World Network Analysis</a> as the default service to calculate driving directions. An ArcGIS Online subscription is required to use this service. By default, a log-is required when using ArcGIS.com for a routing task. If you have an ArcGIS Server Network Analysis service that you want to use to calculate directions, specify the url to the service using the Directions widget <code>routeTaskUrl</code> constructor parameter. Also refer to the "Use Your own Network Analyst Service" section below.</p>
    </div>
    
  </li>

  <li id="step5"><h3>Modify the page layout</h3>
      
    <p>Load Dojo's layout widgets using the <code>esri/layout</code> module.</p>

    <div class="detailSample">
    <pre class="prettyprint" style="border:none;">
require(["esri/dijit/Directions", "esri/layout", ... ],
  function(Directions, Layout, ... ) {
  // ...
});
</pre>
    </div>
    <p></p>

  </li>
      
  <li id="step6"><h3>Create layout widgets with markup</h3>
      
    <p>Modify the page's markup so that the map and Directions widget are in their own content panes inside of a BorderContainer.</p>
    
    <div class="detailSample">
    <pre class="prettyprint" style="border:none;">
&lt;div data-dojo-type="dijit.layout.BorderContainer" 
     data-dojo-props="design:'headline', gutters:false" 
     style="width:100%;height:100%;"&gt;
  &lt;div data-dojo-type="dijit.layout.ContentPane" 
       data-dojo-props="region:'right'" 
       style="width:250px;"&gt;
    
    &lt;div id="dir"&gt;&lt;/div&gt;
    
  &lt;/div&gt;
  &lt;div id="map"
       data-dojo-type="dijit.layout.ContentPane" 
       data-dojo-props="region:'center'"&gt;
  &lt;/div&gt;
&lt;/div&gt;
</pre>
    </div>
      
    <div class="tutNote">
      <p>At this point, you have a simple web mapping application with the Directions widget. Enter various locations to see the directions that are calculated and displayed. A complete code sample can be found in the <a href="../sandbox/sandbox.html?sample=widget_directions_basic">Simple Directions Widget</a> sample page.</p>
    </div>
    
  </li>

  <li id="step7"><h3>Bonus:  Use your own network analyst service</h3>
    
    <p>If you prefer to use your own network analysis service instead of the default World Routing Service,
    you may specify an option <code>routeTaskUrl</code> with the URL path to your own network analysis service in the constructor. For example:</p>

    <div class="detailSample">
    <pre class="prettyprint" style="border:none;">
var directions = new Directions({
  map: map,
  routeTaskUrl: "http://sampleserver3.arcgisonline.com/ArcGIS/rest/services/Network/USA/NAServer/Route",
}, "dir");
</pre>
    </div>
  <p></p>

  </li>
</ol>
  <!--***END TEXT - DO NOT WRITE BELOW THIS LINE***-->
</div>
<div id="wh_footer" class="footnote" align="center">
  Please <a href="mailto:js_feedback@esri.com?subject=Feedback on jstutorials/intro_directions.html">contact the team</a> to comment or give suggestions.
  <br>
  Copyright &copy; Environmental Systems Research Institute, Inc.
</div></div> <!-- main content for a page and feedback markup-->
  </div>
</div> <!-- end main content -->

<!-- TOC script -->
<script src="../scripts/tree.js"></script>

<script src="../prettify/prettify.js"></script>
<script>
  var dojoConfig = {
    packages: [{
      "name": "js",
      "location": location.pathname.replace(/\/[^/]+$/, "/") + "../scripts"
    }]
  };
</script>
<script src="//js.arcgis.com/3.8compact/"></script> <!-- add API version -->
<script src="../scripts/esri-main-tutorials.js"></script>

<!-- google analytics -->
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-215788-63']);
  _gaq.push(['_setDomainName', 'arcgis.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
 <!-- sub 5:  add script to redirect old hash based URLs to static pages and google analytics-->

</body>
</html>