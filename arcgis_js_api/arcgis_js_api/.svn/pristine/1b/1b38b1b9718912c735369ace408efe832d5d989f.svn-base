<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="ie lt-ie9 lt-ie8 lt-ie7 ie6"> <![endif]-->
<!--[if IE 7]>         <html class="ie lt-ie9 lt-ie8 ie7"> <![endif]-->
<!--[if IE 8]>         <html class="ie lt-ie9 ie8"> <![endif]-->
<!--[if gt IE 8]><!--> <html> <!--<![endif]-->
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <meta name="content-language" content="en">
  <meta name="product" content="js-api-arcgis">
  <meta name="subject" content="DEVELOPER,WEB,WEB APPLICATIONS,MOBILE">
  <meta name="sub_category" content="JavaScript API">
  <meta name="search-collection" content="help">
  <meta name="search-category" content="help-api">
  <meta name="version" content="arcgis-3.8"> <!-- API version -->
  <meta name="content_type" content="Help Topic"> <!-- options: Help Topic, API Reference, Sample OR Tutorial -->
  <meta name="last-modified" content="2013-12-19"> <!-- sub 1:  put in date docs were generated -->

  <link rel="stylesheet" href="../styles/screen.css">
  <link rel="stylesheet" href="../styles/jsdoc.css">
  <link rel="stylesheet" href="../styles/homepage.css">
  <link rel="stylesheet" href="../styles/grid.css">
  <link rel="stylesheet" href="../styles/tree.css">
  <link rel="stylesheet" href="../prettify/prettify.css">
  <style>
    html {
      overflow-y: auto;
    }
    .navigation-bar, .section-bar {
      margin-bottom: 0;
    }
    .navigation-bar header h1, .section-bar header h1 {
      margin-top: .35294em;
    }
    .navigation-bar, .section-bar {
      background: url('../graphics/banner.jpg') no-repeat center center #762783;
      min-height: 48px;
      color: white;
    }
    #esri-logo {
      background: url('../graphics/logo-esri.png') no-repeat center center ;
      width: 100px;
    }
    @font-face {
    font-family:'icomoon';src:url('../fonts/icons.eot');src:url('../fonts/icons.eot?#iefix') format("embedded-opentype"),url('../fonts/icons.woff') format("woff"),url('../fonts/icons.ttf') format("truetype"),url('../fonts/icons.svg#icomoon') format("svg");font-weight:400;font-style:normal
    }[data-icon]:before {
      font-family: 'icomoon';
      content: attr(data-icon);
      speak: none;
      font-weight: 400;
      line-height: 1;
      -webkit-font-smoothing: antialiased
    }[class*="icon-"]:before {
      font-family: 'icomoon';
      speak: none;
      font-style: normal;
      font-weight: 400;
      line-height: 1;
      -webkit-font-smoothing: antialiased;
      text-transform: none
    }
    pre {
      font-size: 1.1em;
      line-height: normal;
      margin: 0;
    }
    #header nav li a {
      font-size: .875em;
    }
    #esri-logo {
      margin-left: 0;
    }
  </style>
  <!--[if lt IE 9]>
    <script src="../scripts/libs/html5shiv.js"></script>
    <script src="../scripts/libs/selectivizr-min.js"></script>
    <style>
      #wrapper {
        min-width: 960px;
      }
    </style>
  <![endif]-->
  <title>
    Guide | ArcGIS API for JavaScript 
  </title>
</head>
  
<body>
<div id="nav">
<header id="header">
  <div class="container relative-container">
    <div class="header-inner ">
      <div class="logo-wrap"><a href="../" id="site-logo">Arc<span>GIS</span> API for JavaScript</a><!--span class="down-arrow" id="down-arrow"></span--></div>
      <nav id="site-nav" class="">
        <a href="/en/" class="selected">
          <h4 class="developers">Arc<span>GIS</span> API for JavaScript</h4>
          <p>Build location-aware applications with ArcGIS</p>
        </a>

        <a href="https://www.arcgis.com/about/">
          <h4 class="organizations">Arc<span>GIS</span> for Organizations</h4>
          <p>Learn more about ArcGIS</p>
        </a>
      </nav>

      <a id="esri-logo" href="http://esri.com">Esri</a>
      <div id="logged-out-navigation" class="dropdown-navigation hide">
  <a id="login-link" class="btn small light" href="/en/log-in/">Log In</a>
</div>
<div id="logged-in-navigation" class="dropdown-navigation dropdown-wrapper hide">
  <a href="/en/usage-summary" class="dropdown btn small light">
    <!-- <img src="http://d3w50ib5d2uy0g.cloudfront.net/cdn/2464//js/esri/arcgisonline/css/images/no-user-thumb.jpg" width="16" height="16" alt=""> --><span id="username"></span>
  </a>
  <div class="dropdown-content">
    <ul>
      <li><a href="/en/usage-summary/">Usage Summary</a></li>
      <li><a href="/en/applications/">Applications</a></li>
      <li></li>
      <li><a href="/en/tools/">GIS Tools</a></li>
    </ul>
    <hr>
    <ul>
      <li><a href="/en/account/profile/">Account Settings</a></li>
      <li><a href="/en/feedback/">Feedback</a></li>
    </ul>
    <hr>
    <ul>
      <li><a id="log-out-link" href="#">Log Out</a></li>
    </ul>
  </div>
</div>

      <div id="mobile-navigation" class="dropdown-navigation dropdown-wrapper">
        <a href="#" class="dropdown btn small light icon icon-list-2">Select <span>a Section</span></a>
        <div class="dropdown-content">
          <ul>
            <li><a href="../jstutorials/">Tutorials</a></li>
            <li><a href="../jsapi/">API Reference</a></li>
            <li><a href="../jssamples/">Samples</a></li>
            <li><a href="http://forums.arcgis.com/forums/15">Forum</a></li>
            <li><a href="../../">All Developer Resources</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>

<div class="navigation-bar">
  <div class="container">
    <nav>
      <div id="section-label"><a href=".">Concepts</a></div>
      <ul>
        <!--li class="current"><a href="/en/javascript/">Home</a></li-->
        <li><a href="../jstutorials/">Tutorials</a></li>
        <li class="current"><a href=".">Concepts</a></li>
        <li><a href="../jsapi/">API Reference</a></li>
        <li><a href="../jssamples/">Samples</a></li>
        <li><a href="http://forums.arcgis.com/forums/15">Forum</a></li>
        <li><a href="../../">All Developer Resources</a></li>
      </ul>
    </nav>
  </div>
</div> 
</div><!-- end nav bar --> <!-- sub 2: header and navigation -->

<div class="container_12">
  <div class="grid_3 contentWrapper">
    <div id="toggleToc">
      <img src="../graphics/tochide.gif"> Hide Table of Contents
    </div>
    <div id="apiToc"><div class="treeDiv" id="tree" style="top: 35px; left: 0px;">
  <div id="treeRoot" ondragstart="return false" onselectstart="return false">
    <div class="treeNode">
      <a class="treeUnselected" href="." onclick="clickAnchor(this)">ArcGIS JavaScript API Overview</a>
    </div>
    <div class="treeNode">
      <a class="treeUnselected" href="whats_new.html" onclick="clickAnchor(this)">What's New in Version 3.8</a>
    </div>
    <!-- About the API-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif"/>
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">About the API</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="intro_accessapi.html" onclick="clickAnchor(this)">Get the API</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_compactbuild.html" onclick="clickAnchor(this)">Compact build</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="localization.html" onclick="clickAnchor(this)">Localization</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="css.html" onclick="clickAnchor(this)">Required CSS</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="supported_browsers.html" onclick="clickAnchor(this)">Supported Browsers</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="community.html" onclick="clickAnchor(this)">Community</a>
        </div>
        <!--Working with Dojo-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Dojo
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojo.html" onclick="clickAnchor(this)">Working with Dojo</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojoversion.html" onclick="clickAnchor(this)">Get Dojo</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojodijits.html" onclick="clickAnchor(this)">Dojo dijits</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojo_amd.html" onclick="clickAnchor(this)">Dojo and AMD</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_dojohelp.html" onclick="clickAnchor(this)">Additional resources</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="why_dojo.html" onclick="clickAnchor(this)">Why Dojo?</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--End About the API-->
    <!--Getting Started-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        Getting Started
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="intro_gettingstarted.html" onclick="clickAnchor(this)">Overview</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_devenv.html" onclick="clickAnchor(this)">Setting up a development environment</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="../jstutorials/intro_firstmap.html" onclick="clickAnchor(this)">Build your first application</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="../jstutorials/intro_agstemplate.html" onclick="clickAnchor(this)">Build a web map based application
          </a>
        </div>
      </div>
    </div>
    <!--Inside the API-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        Working with the API
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="inside_defaults.html" onclick="clickAnchor(this)">Default API configurations</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_bundle.html" onclick="clickAnchor(this)">Default API strings</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_esri_request.html" onclick="clickAnchor(this)">Retrieve data from a web server</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_navigation.html" onclick="clickAnchor(this)">Map navigation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_events.html" onclick="clickAnchor(this)">Events</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_extents.html" onclick="clickAnchor(this)">Setting Extents</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_editing.html" onclick="clickAnchor(this)">Editing</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_temporal.html" onclick="clickAnchor(this)">Time aware data</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_firsttask.html" onclick="clickAnchor(this)">Adding a task</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_querytask.html" onclick="clickAnchor(this)">Using QueryTask</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_custom_layers.html" onclick="clickAnchor(this)">Creating custom layer types</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="../jstutorials/intro_javascript_classes.html" onclick="clickAnchor(this)">Writing a class</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="../jstutorials/intro_custom_dijit.html" onclick="clickAnchor(this)">Writing a custom widget</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_webmap.html" onclick="clickAnchor(this)">Web maps</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_analysiswidgets.html" onclick="clickAnchor(this)">Working with Analysis Widgets</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="intro_geoenrichment.html" onclick="clickAnchor(this)">Working with GeoEnrichment Widgets</a>
        </div>
        <!-- graphics -->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif"/>
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Graphics and feature layers</span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="inside_graphics.html" onclick="clickAnchor(this)">Graphics overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_feature_layers.html" onclick="clickAnchor(this)">Feature layer overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_renderers.html" onclick="clickAnchor(this)">Symbols and renderers</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_bettermaps.html" onclick="clickAnchor(this)">Better vector mapping</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="inside_styling_svg.html" onclick="clickAnchor(this)">Styling features with CSS</a>
            </div>
          </div>
        </div>
        <!--info window-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Popups and Info Windows
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_infowindow.html" onclick="clickAnchor(this)">Info window overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_formatinfowindow.html" onclick="clickAnchor(this)">Format info window content</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_customize.html" onclick="clickAnchor(this)">Customize info windows</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_agspopup.html" onclick="clickAnchor(this)">Popup overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_popuptemplate.html" onclick="clickAnchor(this)">Format popup content</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_customizepopup.html" onclick="clickAnchor(this)">Customize popup</a>
            </div>
          </div>
        </div>
        <!--routing book-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Using the RouteTask
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_route_overview.html" onclick="clickAnchor(this)">Routing overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_route_routetask.html" onclick="clickAnchor(this)">Working with the route task</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_route_stop_seq.html" onclick="clickAnchor(this)">Optimize the route</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_route_directions.html" onclick="clickAnchor(this)">Driving directions</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_route_time_windows.html" onclick="clickAnchor(this)">Routing with time windows</a>
            </div>
          </div>
        </div>
        <!--end routing book-->
        <!--geoprocessing book-->
        <div class="treeNode">
          <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
          <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
            Using the Geoprocessor
          </span>
          <div class="treeSubnodesHidden">
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_overview.html" onclick="clickAnchor(this)">Geoprocessing overview</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_creating.html" onclick="clickAnchor(this)">Creating the geoprocessor</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_parameters.html" onclick="clickAnchor(this)">Geoprocessor parameters</a>
            </div>
            <div class="treeNode">
              <a class="treeUnselected" href="intro_gp_running.html" onclick="clickAnchor(this)">Geoprocessing results</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--end book-->
    <!-- Mobile -->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">Mobile</span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="../jstutorials/mobile_dev.html" onclick="clickAnchor(this)">Getting Started Mobile Tutorial</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_viewport.html" onclick="clickAnchor(this)">Viewport Settings</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_hardware.html" onclick="clickAnchor(this)">Feature Detection and Browser Sniffing</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_orientation.html" onclick="clickAnchor(this)">Device Orientation</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_geolocation.html" onclick="clickAnchor(this)">Geolocation</a>
        </div>
        <!-- <div class="treeNode"> <img src="../graphics/treenodeplus.gif" class="treeLinkImage" onclick="expandCollapse(this.parentNode)"/> <span style="cursor: pointer;" onclick="expandCollapse(this.parentNode)">HTML5</span> <div class="treeSubnodesHidden"> <div class="treeNode"> <img src="../graphics/treenodedot.gif" class="treeNoLinkImage"> <a href="jshelp/mobile_touch.htm" class="treeUnselected" onclick="clickAnchor(this)">Touch Events</a> </div> <div class="treeNode"> <img src="../graphics/treenodedot.gif" class="treeNoLinkImage"> <a href="jshelp/mobile_geolocation.htm" class="treeUnselected" onclick="clickAnchor(this)">Geolocation</a> </div> <div class="treeNode"> <img src="../graphics/treenodedot.gif" class="treeNoLinkImage"> <a href="jshelp/mobile_offline.htm" class="treeUnselected" onclick="clickAnchor(this)">Offline</a> </div> <div class="treeNode"> <img src="../graphics/treenodedot.gif" class="treeNoLinkImage"> <a href="jshelp/mobile_storage.htm" class="treeUnselected" onclick="clickAnchor(this)">Web Storage</a> </div> </div> </div> -->
        <!-- <div class="treeNode"> <img src="../graphics/treenodedot.gif" class="treeNoLinkImage"> <a href="jshelp/mobile_hybrid.htm" class="treeUnselected" onclick="clickAnchor(this)">Hybrid Applications</a> </div> -->
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_frameworks.html" onclick="clickAnchor(this)">Frameworks</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="mobile_references.html" onclick="clickAnchor(this)">References</a>
        </div>
      </div>
    </div>
    <!-- end book -->
    <!--Recommendations-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        Recommendations
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="limits_for_graphics.html" onclick="clickAnchor(this)">Determining limits for map graphics</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="best_practices_feature_layers.html" onclick="clickAnchor(this)">Feature layer best practices</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_guidelines.html" onclick="clickAnchor(this)">Coding guidelines</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="inside_faq.html" onclick="clickAnchor(this)">Frequently asked questions</a>
        </div>
      </div>
    </div>
    <!--end book-->
    <!-- Layout book -->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        Application Layouts
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="inside_dojoLayouts.html" onclick="clickAnchor(this)">Dojo layouts</a>
        </div>
      </div>
    </div>
    <!--End layout book -->
    <!--Working with ArcGIS Server Services-->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        ArcGIS Server Services
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="ags_overview.html" onclick="clickAnchor(this)">Overview</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_rest.html" onclick="clickAnchor(this)">Services directory and the REST API</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_secureservices.html" onclick="clickAnchor(this)">Working with secure resources</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ags_proxy.html" onclick="clickAnchor(this)">Using the proxy page</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="ref_coordsystems.html" onclick="clickAnchor(this)">Coordinate system IDs</a>
        </div>
      </div>
    </div>
    <!--end book-->
    <!--What's new -->
    <div class="treeNode">
      <img class="treeLinkImage" onclick="expandCollapse(this.parentNode)" src="../graphics/treenodeplus.gif">
      <span onclick="expandCollapse(this.parentNode)" style="cursor: pointer;">
        What's New archive
      </span>
      <div class="treeSubnodesHidden">
        <div class="treeNode">
          <a class="treeUnselected" href="migration_30.html" onclick="clickAnchor(this)">Migrating to 3.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="migration_20.html" onclick="clickAnchor(this)">Migrating to 2.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v37.html" onclick="clickAnchor(this)">What's New in Version 3.7</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v36.html" onclick="clickAnchor(this)">What's New in Version 3.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v35.html" onclick="clickAnchor(this)">What's New in Version 3.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v34.html" onclick="clickAnchor(this)">What's New in Version 3.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v33.html" onclick="clickAnchor(this)">What's New in Version 3.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v32.html" onclick="clickAnchor(this)">What's New in Version 3.2</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v31.html" onclick="clickAnchor(this)">What's New in Version 3.1</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v30.html" onclick="clickAnchor(this)">What's New in Version 3.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v28.html" onclick="clickAnchor(this)">What's New in Version 2.8</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v27.html" onclick="clickAnchor(this)">What's New in Version 2.7</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v26.html" onclick="clickAnchor(this)">What's New in Version 2.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v25.html" onclick="clickAnchor(this)">What's New in Version 2.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v24.html" onclick="clickAnchor(this)">What's New in Version 2.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v23.html" onclick="clickAnchor(this)">What's New in Version 2.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v22.html" onclick="clickAnchor(this)">What's New in Version 2.2</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v21.html" onclick="clickAnchor(this)">What's New in Version 2.1</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v20.html" onclick="clickAnchor(this)">What's New in Version 2.0</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v16.html" onclick="clickAnchor(this)">What's New in Version 1.6</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v15.html" onclick="clickAnchor(this)">What's New in Version 1.5</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v14.html" onclick="clickAnchor(this)">What's New in Version 1.4</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v13.html" onclick="clickAnchor(this)">What's New in Version 1.3</a>
        </div>
        <div class="treeNode">
          <a class="treeUnselected" href="new_v12.html" onclick="clickAnchor(this)">What's New in Version 1.2</a>
        </div>
      </div>
    </div>
    <!--end book-->
    <!-- Book template <div class="treeNode"> <img src="../graphics/treenodeplus.gif" class="treeLinkImage" onclick="expandCollapse(this.parentNode)"/> <span style="cursor: pointer;" onclick="expandCollapse(this.parentNode)">Layers</span> <div class="treeSubnodesHidden"> <div class="treeNode"><img src="../graphics/treenodedot.gif" class="treeNoLinkImage"/><a href="http://skrzat/axlguide/jsdoc/class_style.cfm?theClass=ArcGISTiledMapServiceLayer" class="treeUnselected" onclick="clickAnchor(this)">ArcGISTiledMapServiceLayer</a></div> </div> </div>-->
    <!--end book-->
  </div>
</div>
<!-- pretty printed via http://prettydiff.com/?m=beautify&html --></div> <!-- sub 3:  Conceptual help TOC -->
  </div>
  <div class="grid_9 contentWrapper">
    <div id="topicPane">    <div id="pageBanner"> Using the proxy page</div>
    <div id="nstext">
      <!--***START TEXT - DO NOT WRITE ABOVE THIS LINE***-->
      <p>
        The ArcGIS JavaScript API provides a proxy page that handles communication
        with the ArcGIS Server services you use in your application. The proxy
        page consists of server-side code that you set up to run on your Web server.
        The browser sends a request to the proxy and the proxy forwards the request
        to the ArcGIS Server service.
      </p>
      <p>
        A proxy page is necessary in the following situations:
        <ul>
          <li>
            The application creates requests that exceed 2048 characters. While there is
            no official maximum length for a URL some modern browsers have
            imposed <a target="_blank" href="http://www.boutell.com/newfaq/misc/urllength.html">limits</a>. 
            Using a proxy works around this issue by performing a POST request rather than a GET
            request. POST requests are not limited by the 2048 character maximum because the information is 
            transferred in the header instead of the URL. Common situations where you may exceed the URL length are:
            <ul>
              <li>Buffer complex polygons then use the buffered geometry with a query task.</li>
              <li>Specify a spatial reference using well-known text (wkt). </li>
            </ul>
          </li>
          <li>
            The application uses a service that is
            <a href="ags_secureservices.html">secured with
            token-based authentication</a>
            , and you do not wish to allow users to view the token, or you do not
            want to transmit the token over the network between your Web server and
            your users.
          </li>
          <li>
            The application edits features in a feature service, unless the application
            is on the same domain as the GIS Server.
          </li>
        </ul>
      </p>
     <h3>Install and Configure the proxy page</h3>
      <p>
        To use the proxy page, you need to perform the following steps. These
        are described in detail below.
      </p>
      <ol>
        <li>
          Download and configure the proxy page appropriate for your server
        </li>
        <li>
          Add code to your application page to enable use of the proxy
        </li>
        <li>
          Secure the Web application. This step is critical for applications that use tokens. If the application is not
           secured correctly, the ArcGIS Server services used by the application are vulnerable to 
           unlimited use by unauthorized persons. See the section on securing the application
        below for further information.
        </li>
        <li>
          Test to ensure the proxy is working correctly
        </li>
      </ol>
      <p>
      </p>

      <h4 id="Download_Configure">
        1. Download and configure the proxy page
      </h4>
      <p>
        In this step, you'll learn how to download and install the proxy page on your Web server. 
        The proxy page runs on your local web server, not on an ESRI server or
        on the ArcGIS Server computer (unless your web server also hosts the ArcGIS
        Server instance). ESRI provides proxy pages for three languages (ASP.NET, Java/JSP, PHP), but you can create a proxy page in 
        another language as well. Download and configure the appropriate proxy for your 
        platform.
      </p>
     <p>
        For services with token-based authentication, the URL of the
        service should use HTTPS, for example, https://www.example.com/arcgis/rest/services/MyMapService/MapServer.
        This ensures that the token appended to the query string of the request
        is encrypted and cannot be intercepted and used by unauthorized parties.
        This would be especially important when the communication between your
        Web server and the ArcGIS Server service travels over the Internet, and
        not just on the local network.
      </p>
       <p><b>ASP.NET</b></p>
       <p>
       Before proceeding ensure, that you have ASP.NET 2.0 or higher installed and registered with Internet Information Services (IIS). 
       If ASP.NET is not configured with IIS, follow the instructions for the version of IIS you are running in the <a target="_blank" href="http://msdn.microsoft.com/en-us/library/ms178477.aspx">ASP.NET and IIS Configuration</a>
       help topic on MSDN. 
       <ol>
           <li>Download <a href="proxypage_net.zip">proxypage_net.zip</a>, then unzip and save the contents to a folder on your web server's root directory. In IIS, the default location for the Web server's root folder is <code>c:\inetpub\wwwroot</code>. If you plan on 
            using the proxy for multiple sites you can create a folder in the web root directory called proxy and place the contents there.</li>
           <li>Unzip and save then contents to your Web server.</li>
           <li>Open IIS Manager. This <a target="_blank" href="http://msdn.microsoft.com/en-us/library/bb763170.aspx">Microsoft Knowledge Base</a> article provides instructions for opening IIS Manager depending on the version of IIS you are using.</li>
           <li>Next, create a Web Application for the proxy folder, these steps also differ depending on the version of IIS you are using. For IIS 5 or 6 use the following steps:
            <ol>
              <li>In the Default Web Site, right-click the proxy directory and select Properties.</li>
              <li>On the Directory tab, in the Application Settings section click the Create button then click OK</li><br />
                <img src="images/createWebApp.png" width="300" height="300"/><br /> 
            </ol>
          <li>If you will be using the proxy page for services with token-based authentication,
          obtain a token for the service. See instructions at
          <a href="ags_secureservices.html">Working with secure ArcGIS services</a>
          . If your application uses multiple ArcGIS Server systems that require
          tokens, obtain a token for each server.</li>
         <li>Open the configuration proxy page (proxy.config for ASP.NET) in a text or XML editor. </li>
         <li>For each ArcGIS Server that will use the proxy page, add a &lt;serverUrl&gt;
          entry to the configuration XML file within the &lt;serverUrls&gt; section.
          See the proxy configuration file for examples. The serverUrl element can
          have these attributes:
          <ul>
            <li>
              <strong>
                url
              </strong>
              : the URL of the ArcGIS Server machine or the service. If multiple services
              in the same server are used in the application, then the url can point
              to the services root. If only a single service on the server is used, then
              the url can be set to the full service URL.
            </li>
            <li>
              <strong>
                matchAll
              </strong>
              : whether to use the token for all requests with this URL stem. If this
              attribute is true and the url attribute is set to the services root, then
              the entry can be used for multiple services in the application.
            </li>
            <li>
              <strong>
                token
              </strong>
              : the authentication token obtained in step 1. Optional - used only for
              services secured with token-based authentication.
            </li>
          </ul>
          <p>If multiple services on the same server are used in the application, the
          URL may point to the service root (e.g., http://www.example.com/arcgis/rest/services),
          and the matchAll parameter set to true. See commented examples included
          in the downloaded file. Multiple server entries may be added if more than
          one ArcGIS Server computer is used in the application.</p>
          <p>The  mustMatch  attribute in the containing <ProxyConfig> element controls whether only specified sites may be proxied. This attribute should generally be set to true. If set to false, then the proxy page will forward any request to any server. This could potentially allow your proxy page to be used to send requests to third-party servers without your permission. </p>
        </li>
        <li>
          Save the configuration file.
        </li>
       </ol>
       
       </p>
       <p><b>Java/JSP</b>
        <ol>
          <li>Download <a href="proxypage_java.zip">proxypage_java.zip</a>, then unzip and save the contents to your web server's web applications directory. For Tomcat,
          this is the <code>webapps</code> directory under the base Tomcat folder.</li>
          <li>
          If you will be using the proxy page for services with token-based authentication,
          obtain a token for the service. See instructions at
          <a href="ags_secureservices.html">Working with secure ArcGIS services</a>
          . If your application uses multiple ArcGIS Server systems that require
          tokens, obtain a token for each server.
        </li>
        <li>
          Open the configuration proxy page (proxy.jsp) in your favorite editor.
        </li>
        <li>
          The JSP code defines a
          <code>
            serverUrls
          </code>
          variable. This represents the servers for which you want this JSP to act
          as a proxy. It is a String array where each String has the following syntax:
          <code>
            "&lt;url&gt;,&lt;token&gt;"
          </code>
          . The token is optional. Add URLs to the services you want to access over
          here.
          <br/>
          See commented examples included in the JSP. Multiple server entries may
          be added if more than one ArcGIS Server computer is used in the application.
          <br/>
          <i>
            Note that while this sample proxy includes the configuration in the JSP
            itself, you may want to configure the URLs in a separate resource file
            and have your application reference that file.
          </i>
          <li>
            Save the JSP.
          </li>
        </ol></p>
       <p><b>PHP</b>
        <ol>
          <li>Download <a href="proxypage_php.zip">proxypage_php.zip</a>, then unzip and save the contents to your web server's web applications directory. For 
          Apache installs of PHP, this is a folder under <code>htdocs</code> in the Apache install location. For IIS installs, this is a folder under <code>wwwroot</code>.</li>
          <li>
          If you are using the proxy page for services with token-based authentication,
          obtain a token for the service. See instructions at
          <a href="ags_secureservices.html">Working with secure ArcGIS services</a>
          . If your application uses multiple ArcGIS Server systems that require
          tokens, obtain a token for each server.
        </li>
        <li>
          Open the proxy page (proxy.php) in your favorite editor.
        </li>
        <li>
          Using the "mustMatch" variable, specify whether the proxy should forward
          requests only to specified servers. If this value is true, the proxy will
          only forward requests to the servers specified in the "serverUrls" variable
          (see below). If this value is false, then the proxy will forward requests
          to any server - be warned that this could potentially allow your proxy
          page to be used to send requests to third-party servers without your permission.
        </li>
        <li>
          Using the "serverUrls" variable, specify the servers that this proxy will
          forward requests to if "mustMatch" is true. It is an array where each element
          configures an ArcGIS server or service using an array with keys named "url",
          "matchAll" and "token". The sematics of these keys are similar to the correspondingly
          named attributes used in the ASP.NET proxy.
        </li>
        <li>
          Save the PHP file.
        </li>
        </ol></p>

      <h4 id="Add_code">
        2. Add code to use the proxy page
      </h4>
      <p>
        In order for your application's page to send requests through the proxy,
        you must add code to the page as follows. In the startup function (e.g.,
        OnPageLoad) in the JavaScript code of your page, add a line to set the
        proxy page. The following example is for the ASP.NET version; substitute
        proxy.jsp or proxy.php as appropriate. If your proxy page is not in the
        same directory as the Web application, adjust the path appropriately. The
        path should use a relative URL (e.g., ../proxy.ashx), or a URL relative
        to the root (e.g., /Proxy/proxy.ashx).
      </p>
      <p><b>Note:</b>
          If you are using version 1.2 or lower of the ArcGIS API for JavaScript, replace "esri.config" in the examples
          below with "esriConfig".
      </p>
      <p>
        For ASP.NET:
      </p>
       <pre class="prettyprint" style="border:none;">
        esri.config.defaults.io.proxyUrl = "proxy.ashx";
      </pre>
      <b>Note:</b> if you are using version 1.2 or lower of the ArcGIS API for JavaScript, the syntax would be
      <code>
        esriConfig.defaults.io.proxyUrl = "proxy.ashx";
      </code>
      <p>
        For Java/JSP:
      </p>
       <pre class="prettyprint" style="border:none;">
        esri.config.defaults.io.proxyUrl = "proxy.jsp"; 
        //relative - if proxy.jsp is in the same application as the web page
      </pre>
      Or
       <pre class="prettyprint" style="border:none;">
        esri.config.defaults.io.proxyUrl = "http://samedomain:sameport/proxy/proxy.jsp";
        //absolute - if proxy.jsp is in another application in the same domain
      </pre>
      <p>
        For PHP:
      </p>
       <pre class="prettyprint" style="border:none;">
        esri.config.defaults.io.proxyUrl = "proxy.php"; 
        //relative - if proxy.php is in the same application as the web page
      </pre>
      Or
       <pre class="prettyprint" style="border:none;">
        esri.config.defaults.io.proxyUrl = "http://samedomain:sameport/proxy/proxy.php";
        //absolute - if proxy.php is in another application in the same domain
      </pre>
      <p>
        <em>
          Only if you are using the page with a service secured with tokens
        </em>
        : add a statement to use the proxy for every request. Do not add this
        line if you only need to use the proxy when requests exceed the browser's
        limit on URL size (see above). If you add this line, the esriConfig.defaults.io.proxyUrl
        property must also be set.
      </p>
       <pre class="prettyprint" style="border:none;">
        esri.config.defaults.io.alwaysUseProxy = true;
      </pre>
      <p>
        If the alwaysUseProxy property is false (the default), then the proxy page
        will be used automatically if the proxy property is set and the request
        exceeds 2000 characters.
      </p>
      <h4 id="Secure_web_app">
        3. Secure the Web application
      </h4>
      <p>
        This step is essential if the application uses services with token-based
        security, and the proxy page is configured with the token.
        <em>
          If you do not secure the Web application, then anyone can send any request
          through your proxy page to the ArcGIS Server service, without using your
          application page.
        </em>
        Your proxy page could be used for unauthorized disclosure of data from
        the service, or for inappropriate or high volume of use of the service.
      </p>
      <p>
        To secure the Web application, you need do
        <strong>
          both
        </strong>
        of the following:
      </p>
      <ol>
        <li>
          Require users of the application to login (authenticate) in order to use
          the application. This ensures that only authorized users can use the application,
          including the proxy page. How you require authentication depends on the
          type of server software you are using. For IIS/ASP.NET servers, you may
          use Windows authentication or ASP.NET forms; see
          <a href="http://msdn2.microsoft.com/en-us/library/aa292471(VS.71).aspx"
          target="_blank">this page at Microsoft</a>
          for information and instructions. For other platforms, consult documentation
          on implementing authentication for your platform.
          <br />
          -- and --
        </li>
        <li>
          Require use of HTTPS via Secure Sockets Layer (SSL). At minimum the login
          page should be secured, especially if using forms or Basic authentication.
          For maximum security, you may require HTTPS for all communication in the
          application. Note that in order to require HTTPS for an application, you
          must obtain and install a SSL certificate for your Web server. If using
          IIS, the
          <a href="http://www.microsoft.com/technet/prodtechnol/WindowsServer2003/Library/IIS/56bdf977-14f8-4867-9c51-34c346d48b04.mspx?mfr=true"
          target="_blank">Microsoft documentation for IIS</a>
          describes how to obtain and install SSL certificates.
        </li>
      </ol>
      <h4 id="Test">
        4. Test and deploy the application
      </h4>
      <p>
        Once you have configured the proxy page with the application, test the
        application to ensure that requests are processed correctly. The application
        should function as it did before the proxy page was implemented.
        If not, you may need to troubleshoot the proxy. If your application environment
        supports debugging mode, you may be able to set breakpoint in the proxy
        page and detect whether it is operating correctly.
      </p>
      <p>
        In an IIS/ASP.NET environment, you can open the application
        in Visual Studio or Visual Web Developer Express, open the proxy.ashx page,
        and set a break point in the ProcessRequest method. Then run the application
        with Debug-Start. The execution should halt at the break point, and you
        should be able to detect where the problem lies. You may also be able to
        set break points in the JavaScript functions of your application, or insert
        alert() statements to display values during execution. As a last resort,
        remove the esriConfig.defaults.io.proxyUrl property value and start over.
      </p>
      <p>One common issue is that the path to the proxy file is entered into the application incorrectly. You can use <a href="http://getfirebug.com/">Firebug</a> or another browser debugging tool to determine if the proxy is located.  
      Open Firebug and activate the NET tab. Then run your application and watch the requests and look for the request that POSTs to the proxy. In the image below
      the request is red and a 404 error is returned which means that the proxy page cannot be found. If you hover your mouse over the request in the NET tab you'll 
      see the location where the application is looking for the proxy.</p>
      <p><img src="images/firebugdebug.png" /></p>
  
      <br />
      <br />
      <!--***END TEXT - DO NOT WRITE BELOW THIS LINE***-->
    </div>
    
<div id="wh_footer" class="footnote" align="center">
  Please <a href="mailto:js_feedback@esri.com?subject=Feedback on jshelp/ags_proxy.html">contact the team</a> to comment or give suggestions.
  <br>
  Copyright &copy; Environmental Systems Research Institute, Inc.
</div></div> <!-- sub 4:  main content for a page and feedback markup -->
  </div>
</div> <!-- end main content -->

<!-- TOC script -->
<script src="../scripts/tree.js"></script>

<script src="../prettify/prettify.js"></script>
<script>
  var dojoConfig = {
    packages: [{
      "name": "js",
      "location": location.pathname.replace(/\/[^/]+$/, "/") + "../scripts"
    }]
  };
</script>
<script src="//js.arcgis.com/3.8compact/"></script> <!-- add API version -->
<script src="../scripts/esri-main-concepts.js"></script>

<!-- google analytics -->
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-215788-63']);
  _gaq.push(['_setDomainName', 'arcgis.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
 <!-- sub 5:  add script to redirect old hash based URLs to static pages and google analytics -->
</body>
</html>